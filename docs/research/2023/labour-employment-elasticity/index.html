<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Olumide Taiwo">
<meta name="author" content="Byencit Duncan">

<title>Helpman Institute - Labour Absorption and Employment Elasticities in Nigeria</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Helpman Institute</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html" rel="" target="">
 <span class="menu-text">Research</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:info@helpmaninstitute.org" rel="" target=""><i class="bi bi-envelope" role="img" aria-label="email">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/company/helpmaninstitute" rel="" target=""><i class="bi bi-linkedin" role="img" aria-label="linkedin">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#labour-absorption" id="toc-labour-absorption" class="nav-link" data-scroll-target="#labour-absorption">Labour Absorption</a></li>
  <li><a href="#employment-elasticity" id="toc-employment-elasticity" class="nav-link" data-scroll-target="#employment-elasticity">Employment Elasticity</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Labour Absorption and Employment Elasticities in Nigeria</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Blog &amp; commentary</div>
  </div>
  </div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Olumide Taiwo </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Helpman Development Institute, FCT Abuja, Nigeria.
          </p>
      </div>
      <div class="quarto-title-meta-contents">
    <p class="author">Byencit Duncan </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Helpman Development Institute, FCT Abuja, Nigeria.
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Jan 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">Mar 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The ultimate goal of every nation is the well-being of its citizens regardless of its economic, political and social settings. This is reflected by economic development which dwells on growth and distributions as well as their interconnections. A distinctive strength of <a href="https://www.ilo.org/global/topics/dw4sd/themes/informal-economy/lang--en/index.htm">the informal sector especially</a> its Micro and Small Enterprises (MSEs) is the effective and efficient absorption of labour and growth in employment.</p>
<p>Labour is an important factor that enables economic development through the production of goods and services and the satisfaction of individuals’ needs. Economic performance is a function of capital and labour. Economic indicators relating to employment, particularly those that evaluate a country’s ability to provide enough jobs for its people, can give you a lot of information about a country’s overall macroeconomic performance. Unemployment rates, employment-to-population ratios, and labour force participation rates are among the most generally discussed metrics along these lines. The employment intensity of growth or elasticity of employment with regard to output is another labour market indicator that indicates employment growth related to economic growth.</p>
<p>For a country like Nigeria, where unemployment rates keep rising and the population also increasing. It is important to understand the past and current employment and absorption capacity of the country as it can provide vital information that can be used for policymaking to curb unemployment.</p>
<p>Hence, it is of the essence that labour absorption and employment elasticities be studied. This analysis uses descriptive methods to analyze labour absorption and employment elasticities in Nigeria.</p>
</section>
<section id="labour-absorption" class="level1 page-columns page-full">
<h1>Labour Absorption</h1>
<p>Labour absorption is the level at which the working population are engaged in economic activities at a particular period of time and the metric for labour absorption is “Labour Absorption Rate (LAR)” or “Employment to Population Ratio.”</p>
<p>According to the ILO database, the employment-to-population ratio expresses the number of persons who are employed as a percentage of the total working-age population. In other words, it is the proportion of the working-age population aged 15-65 years that is employed. It measures the proportion of the working-age population that is employed <span class="citation" data-cites="ozili2020">(<a href="#ref-ozili2020" role="doc-biblioref">Ozili 2020</a>)</span></p>
<p>Mathematically,</p>
<p><span class="math display">\[
\textrm{Employment To Population Ratio}=\frac{\textrm{total Employed}}{\textrm{Working Age Population}} \times 100
\]</span></p>
<p>The labour absorption rate (LAR) in Nigeria has been on a continual decrease since 2014 with a significant decrease in 2020 as shown in figure 1 below. This shows that the working-age population is growing more compared to the levels of employment (working-age population addition yearly is over a million while for employment is in thousands). The significant decrease in 2020 can be attributed to the pandemic when a lot of jobs were lost and the working-age population kept increasing <span class="citation" data-cites="ozili2020 pwc2020">(<a href="#ref-ozili2020" role="doc-biblioref">Ozili 2020</a>; <a href="#ref-pwc2020" role="doc-biblioref">PwC 2020</a>)</span>.</p>
<div id="fig-labour-absorption-rate" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="figures/labour-absorption-rate.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">Figure&nbsp;1: Labour absorption rate in Nigeria. Source: Author’s computation based on data from NBS</figcaption>
</figure>
</div>
<p>Disaggregating LAR into full and part-time employment brings a better understanding of LAR as shown in figure 2 below. The fall in LAR for full-time employment followed the same pattern as the general LAR which is normal but interestingly part-time employment was on the increase with the exception of 2020, the pandemic year.</p>
<p>This is because, following the law governing demand and supply of labour, all things being equal “increase supply of labour leads to decrease in wages”. A decrease in wages implies a decrease in working hours hence increased part-time employment. Due to the increasing nature of the working population and employment increasing at a decreasing rate, the number of hours decreases as a reaction to decreasing in wages.</p>
<div id="fig-lar-employment-type" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="figures/lar-employment-type.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">Figure&nbsp;2: Labour absorption by employment type</figcaption>
</figure>
</div>
<p>Further, in the analysis, LAR was disaggregated by zone. The descriptive showed nothing out of the normal as shown in figure 3 below. LAR are highest in the two economic zones in Nigeria where the economic hub and the Federal capital territory are located. South-South and North West follow closely with South-South being the domain of oil which is the primary source of revenue for the country and Northwest housing Kano, the business capital in the north. The Northwest has the lowest LAR and this is due to insecurity coupled with the pandemic of 2020 which has shut down most economic activities even agriculture has been disrupted. People are gradually bringing back economic activities and leaving Internal Displaced Persons Camps (IDP camps) to being farming</p>
<div id="fig-lar-zone-nigeria" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="figures/lar-zone-nigeria.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">Figure&nbsp;3: Labour absorption by geo-political zones in Nigeria. Source: Author’s computation based on data from NBS</figcaption>
</figure>
</div>
</section>
<section id="employment-elasticity" class="level1 page-columns page-full">
<h1>Employment Elasticity</h1>
<p>Employment elasticity (EE) also called “Employment Intensity of Growth” is a measure of the percentage change in employment associated with a percentage point change in growth for a sector or total GDP. The employment elasticity indicates the ability of an economy to generate employment opportunities for its population as a percentage of its growth.</p>
<p>Employment is an important element of growth and development; it acts as a link between economic growth and poverty reduction. Employment elasticities are also frequently used to track industry potential for job creation and estimate future employment development.</p>
<p>Mathematically, EE is calculated in two ways;</p>
<p>1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The Compound Annual Growth Rate (CAGR) method: This method gives the “arc” employment elasticity, this is the elasticity of one variable in relation to another between two given points. It is calculated using the formula below</p>
<p><span class="math display">\[
e = \frac{\Delta L/L}{\Delta Y/Y}
\]</span></p>
<p>Where L refers to employment, Y GDP and <span class="math inline">\(\Delta\)</span> percentage change. Change in GDP is essentially GDP growth rate.</p>
<p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The Regression approach: This on the other hand provides the “point” elasticity, this is the elasticity at a specific point on the curve. It is calculated using the formula below</p>
<p><span class="math display">\[
ln L = \alpha + \beta lnY
\]</span></p>
<p>Here, <span class="math inline">\(\beta\)</span> serves as the employment elasticity. When the derivative is taken, we arrive at;</p>
<p><span class="math display">\[
e = \frac{dlnL}{dlnY} = \frac{\Delta L/L}{\Delta Y/Y}
\]</span></p>
<p>In a nutshell, EE examines how economic growth (output) and employment evolve together over time. Looking at the EE of Nigeria from 2011 to 2022, EE growth has not been stable as shown below in figure 4. Employment elasticity in 2012, 2016 and 2017 was negative. In 2016 there was a recession and in 2017, Nigeria was still trying to get back on its feet. During a recession, economic growth becomes negative and industries will have to lay off workers or cut wages in other to survive. By 2018, the economy was booming. This shows that a 1 per cent increase in growth led to a 0.5 per cent increase in employment.</p>
<p>In 2021 after the pandemic, the economy was recovering from the pandemic shocks and different job opportunities were springing forth which include Artificial intelligence and data analytics which were majorly remote and the barrier for location was eliminated <span class="citation" data-cites="jenq2021 wef2020">(<a href="#ref-jenq2021" role="doc-biblioref">Jenq, Lain, and Vishwanath 2021</a>; <a href="#ref-wef2020" role="doc-biblioref">WEF 2020</a>)</span>. This explains why the employment elasticity was 7.4 per cent meaning for every 1 per cent increase in growth, employment increased by 7.4 per cent.</p>
<div id="fig-employment-elasticity-time" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="figures/employment-elasticity-time.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">Figure&nbsp;4: Employment elasticity in Nigeria between 2010 and 2022. Source: Author’s computation based on data from NBS</figcaption>
</figure>
</div>
</section>
<section id="discussion" class="level1">
<h1>Discussion</h1>
<p>It is evident from the above data that Nigeria is not doing well when it comes to employment generation and absorbing its working population. A high working-age population implies availability of labour which is an advantage when utilize will boost economic growth substantially.&nbsp; The continuous decrease in LAR means two things either the job creation level is not growing or the working-age population grows more than the level of employment creation, the latter seems to be most suitable. Another reason for the fall in LAR is the lack of skilled labour to be employed and the information asymmetry that exists in the labour market. Hence there is a need to encourage and build more vocational centers and improve the standard of education. To build an economy that has the capacity to absorb its labour, the quality and skills of workers need to be addressed because increased investment married with a skilled labour force will lead to economic growth and subsequently the creation of employment.</p>
<p>Also, EE figures indicate the existence of “jobless growth” which is a result of the slow pace of job creation in Nigeria. Jobless growth is a term used when there is continuous macroeconomic economic growth without a corresponding growth in job creation <span class="citation" data-cites="pwc2018">(<a href="#ref-pwc2018" role="doc-biblioref">PwC 2018</a>)</span>. Major cause of jobless growth in Nigeria includes lack of diversification, poor economic restructuring, poor macroeconomic policies, e.t.c.</p>
<p>It is of the essence that government look into existing employment polices to ensure greater participation of youths. Government should focus on capital expenditure in order to increase the employment intensity of the private sector especially for MSMEs.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-jenq2021" class="csl-entry" role="listitem">
Jenq, Christina, Jonathan Lain, and Tara Vishwanath. 2021. <span>“Good Jobs for a New Generation: Delivering Quality Jobs for Young Nigerians After COVID-19.”</span> <a href="https://pubdocs.worldbank.org/en/511161631652256763/pdf/Good-Jobs-for-a-New-Generation-Delivering-Quality-Jobs-for-Young-Nigerians-After-COVID-19.pdf">https://pubdocs.worldbank.org/en/511161631652256763/pdf/Good-Jobs-for-a-New-Generation-Delivering-Quality-Jobs-for-Young-Nigerians-After-COVID-19.pdf</a>.
</div>
<div id="ref-ozili2020" class="csl-entry" role="listitem">
Ozili, Peterson K. 2020. <span>“COVID-19 Pandemic and Economic Crisis: The Nigerian Experience and Structural Causes.”</span> <em>Journal of Economic and Administrative Sciences</em> 37 (4): 401–18. <a href="https://doi.org/10.1108/jeas-05-2020-0074">https://doi.org/10.1108/jeas-05-2020-0074</a>.
</div>
<div id="ref-pwc2018" class="csl-entry" role="listitem">
PwC. 2018. <span>“Structural Transformation and Jobless Growth in Nigeria.”</span> <a href="https://www.pwc.com/ng/en/assets/pdf/structural-transformation-jobless-growth-Nigeria.pdf">https://www.pwc.com/ng/en/assets/pdf/structural-transformation-jobless-growth-Nigeria.pdf</a>.
</div>
<div id="ref-pwc2020" class="csl-entry" role="listitem">
———. 2020. <span>“Impact of COVID-19 on the Supply Chain Industry.”</span> <a href="https://www.pwc.com/ng/en/assets/pdf/impact-of-covid19-the-supply-chain-industry.pdf">https://www.pwc.com/ng/en/assets/pdf/impact-of-covid19-the-supply-chain-industry.pdf</a>.
</div>
<div id="ref-wef2020" class="csl-entry" role="listitem">
WEF. 2020. <span>“The Future of Jobs Report 2020.”</span> <a href="https://www3.weforum.org/docs/WEF_Future_of_Jobs_2020.pdf">https://www3.weforum.org/docs/WEF_Future_of_Jobs_2020.pdf</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>